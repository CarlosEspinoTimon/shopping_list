runtime: python27
api_version: 1
threadsafe: true
entrypoint: gunicorn -b :$PORT server:server

handlers:
- url: /rest/.*
  script: server.server

- url: /(.+)
  static_files: web-client/dist/web-client/\1
  upload: web-client/dist/web-client/(.*)

- url: /
  static_files: web-client/dist/web-client/index.html
  upload: web-client/dist/web-client/index.html

libraries:
- name: ssl
  version: latest
  
- name: MySQLdb
  version: "latest"
  
skip_files:
- web-client/e2e
- web-client/node_modules
- web-client/src

env_variables:
    MYSQL_HOST: YOUR_HOST_IP
    MYSQL_USER: YOUR_USER
    MYSQL_PASSWORD: YOUR_PASSWORD_FOR_PRODUCTION
    MYSQL_PASSWORD_DEVELOP: YOUR_PASSWORD_FOR_DEVELOPMENT
    MYSQL_DATABASE: YOUR_DATABASE